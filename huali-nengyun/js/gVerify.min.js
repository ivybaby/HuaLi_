!(function(c,a){function e(g){this.options={id:"",canvasId:"verifyCanvas",width:"100",height:"30",type:"blend",code:""};if(Object.prototype.toString.call(g)=="[object Object]"){for(var h in g){this.options[h]=g[h]}}else{this.options.id=g}this.options.numArr="0,1,2,3,4,5,6,7,8,9".split(",");this.options.letterArr=b();this._init();this.refresh()}e.prototype={version:"1.0.0",_init:function(){var g=a.getElementById(this.options.id);var h=a.createElement("canvas");this.options.width=g.offsetWidth>0?g.offsetWidth:"100";this.options.height=g.offsetHeight>0?g.offsetHeight:"30";h.id=this.options.canvasId;h.width=this.options.width;h.height=this.options.height;h.style.cursor="pointer";h.innerHTML="您的浏览器版本不支持canvas";g.appendChild(h);var i=this;h.onclick=function(){i.refresh()}},refresh:function(){this.options.code="";var j=a.getElementById(this.options.canvasId);if(j.getContext){var h=j.getContext("2d")}else{return}h.textBaseline="middle";h.fillStyle="rgb(244,244,244)";h.fillRect(0,0,this.options.width,this.options.height);if(this.options.type=="blend"){var g=this.options.numArr.concat(this.options.letterArr)}else{if(this.options.type=="number"){var g=this.options.numArr}else{var g=this.options.letterArr}}for(var k=0;k<4;k++){h.strokeStyle=f(40,180);h.beginPath();h.moveTo(d(0,this.options.width),d(0,this.options.height));h.lineTo(d(0,this.options.width),d(0,this.options.height));h.stroke()}for(var k=0;k<this.options.width/4;k++){h.fillStyle=f(0,255);h.beginPath();h.arc(d(0,this.options.width),d(0,this.options.height),1,0,2*Math.PI);h.fill()}},validate:function(g){var g=g.toLowerCase();var h=this.options.code.toLowerCase();console.log(h);if(g==h){return true}else{this.refresh();return false}}};function b(){var g="a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z";return g.split(",")}function d(h,g){return Math.floor(Math.random()*(g-h)+h)}function f(j,i){var l=d(j,i);var k=d(j,i);var h=d(j,i);return"rgb("+l+","+k+","+h+")"}c.GVerify=e})(window,document);